(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("modules/clean/dbmodal",["jquery","external/keymaster","modules/core/controller_helpers","modules/core/dom","modules/core/exception","modules/clean/dbmodal_stack","modules/clean/viewer"],function(o,r,s,i,a,l,c){var u,p,h,assert;return assert=a.assert,p=l.DBModalStack,u=(function(){function n(e){var o;return this.options=e,this.set_title=t(this.set_title,this),this._hide=t(this._hide,this),this._show=t(this._show,this),this.hide=t(this.hide,this),this.show=t(this.show,this),this.__prefill=t(this.__prefill,this),this.__focus=t(this.__focus,this),this.__unlisten=t(this.__unlisten,this),this.__listen_buttons=t(this.__listen_buttons,this),this.__listen=t(this.__listen,this),this.__overlay_click_handler=t(this.__overlay_click_handler,this),this.__keydown_handler=t(this.__keydown_handler,this),this.__x_click_handler=t(this.__x_click_handler,this),this.__show_modal=t(this.__show_modal,this),this.__clone_modal=t(this.__clone_modal,this),this.format=t(this.format,this),this.on_cancel_button_click=t(this.on_cancel_button_click,this),this.on_confirm_button_click=t(this.on_confirm_button_click,this),this.before_show=t(this.before_show,this),this.element_id=n.add_role_to_id(this.options.element_id,this.options.role),this.$template=n.get_template(this.options.element_id),o=this.$template.find(".db-modal"),0===this.$template.length&&(window.DB_FRAME_BUST?assert(!1,"Missing DBModal element '"+this.element_id+"', probably because this page is being framed by "+window.top.location.host+" and our frame protection has kicked in."):assert(!1,"Missing DBModal pyxl element for '"+this.element_id+"'")),this.options.focus&&("confirm"===this.options.focus?assert(o.find(".confirm-button").length,"DBModal pyxl element is missing a confirm button to focus"):"cancel"===this.options.focus?assert(o.find(".cancel-button").length,"DBModal pyxl element is missing a cancel button to focus"):assert(o.find(this.options.focus).length,"DBModal pyxl element is missing focus element with selector '"+this.options.focus+"'")),null!=this.on_show&&assert("function"==typeof this.on_show,"'on_show' must be a function"),null!=this.before_show&&assert("function"==typeof this.before_show,"'before_show' must be a function"),null!=this.on_hide&&assert("function"==typeof this.on_hide,"'on_hide' must be a function"),null!=this.on_confirm_button_click&&assert("function"==typeof this.on_confirm_button_click,"'on_confirm_button_click' must be a function"),null!=this.on_cancel_button_click&&assert("function"==typeof this.on_cancel_button_click,"'on_cancel_button_click' must be a function"),this.options.vars&&(this.vars=this.options.vars),this.click_out_to_close=!0,this.options.click_out_to_close===!1&&(this.click_out_to_close=!1),this.prev_key_scope=null,this}return n.KEY_SCOPE="dbmodal",n.__stack=[],n.__DOUBLE_CLICK_MAX_TIME=300,n.get_containing_modal=function(t){var e,o;return o=t.closest(".db-modal-wrapper"),e=s.get_controller(o),e&&assert(e instanceof n,"controller of .db-modal-wrapper must be a DBModal object"),e},n.prototype.before_show=function(t){if(null!=this.options.title)return this.set_title(this.options.title)},n.prototype.on_confirm_button_click=function(t){return t.preventDefault(),p.pop()},n.prototype.on_cancel_button_click=function(t){return t.preventDefault(),p.pop()},n.prototype.on_show=null,n.prototype.on_hide=null,n.prototype.format=function(t){var n,o;for(n in t)e.call(t,n)&&(o=t[n],this.$modal_window.find(n).text(o));return this},n.prototype.__clone_modal=function(){if(this.$modal_window||(this.options.preloaded?(this.$modal_window=o("#"+this.element_id),this.$modal_window.removeClass("db-modal-wrapper--preloaded")):this.$modal_window=s.clone_element(this.$template).attr("id",this.element_id),this.$overlay=this.$modal_window.find(".db-modal-overlay")),s.deprecated_set_controller(this.$modal_window,this),s.bind_controllers(this.$modal_window),!this.options.preloaded)return o("body").prepend(this.$modal_window)},n.prototype.__show_modal=function(){return this.$modal_window.show()},n.prototype.__x_click_handler=function(t){return t.preventDefault(),p.clear()},n.prototype.__keydown_handler=function(t){return(27===t.keyCode||8===t.keyCode&&!i.focus_in_input())&&(t.preventDefault(),"function"==typeof this.logger_keydown_close_handler&&this.logger_keydown_close_handler(),p.clear()),i.keepFocusIn(this.$modal_window.find(".db-modal"),t)},n.prototype.__overlay_click_handler=function(t){if(t.preventDefault(),!(this.__last_show_time&&Date.now()<this.__last_show_time+this.constructor.__DOUBLE_CLICK_MAX_TIME))return p.clear()},n.prototype.__listen=function(){return this.click_out_to_close!==!1&&this.$overlay.on("click",this.__overlay_click_handler),this.$db_modal_x=this.$modal_window.find(".db-modal-x"),this.$db_modal_x.on("click",this.__x_click_handler),o(document).on("keydown",this.__keydown_handler),this.__listen_buttons()},n.prototype.__listen_buttons=function(){if(null!=this.on_confirm_button_click&&(this.$confirm_button=this.$modal_window.find(".confirm-button"),this.$confirm_button.on("click",this.on_confirm_button_click)),null!=this.on_cancel_button_click)return this.$cancel_button=this.$modal_window.find(".cancel-button"),this.$cancel_button.on("click",this.on_cancel_button_click)},n.prototype.__unlisten=function(){if(this.click_out_to_close!==!1&&this.$overlay.off("click"),this.$db_modal_x.off("click"),o(document).off("keydown",this.__keydown_handler),null!=this.on_confirm_button_click&&this.$confirm_button.off("click"),null!=this.on_cancel_button_click)return this.$cancel_button.off("click")},n.prototype.__focus=function(){var t,e;return t=this.$modal_window.find(".db-modal"),"confirm"===this.options.focus?this.focus_element=t.find(".confirm-button").first():"cancel"===this.options.focus?this.focus_element=t.find(".cancel-button").first():this.options.focus?this.focus_element=t.find(this.options.focus).first():(this.focus_element=t,e=i.getTabbableElementsIn(t),e.length&&(e.length>1&&o(e[0]).is(".db-modal-x")?this.focus_element=e[1]:this.focus_element=e[0])),this.focus_element.focus()},n.prototype.__prefill=function(){var t,e,n,o,r;if(null!=this.options.prefill){e=this.$modal_window.find(".db-modal"),o=this.options.prefill;for(n in o)r=o[n],t=e.find(n).val(r),assert(t,"Element with name '"+n+"' not found")}},n.add_role_to_id=function(t,e){return e?t+"-"+e:t},n.get_template=function(t,e){var r;return r=n.add_role_to_id(t,e),o("#db-modal-"+r)},n.prototype.show=function(t,e){return null==t&&(t=null),null==e&&(e=null),null!=t&&(this.options.focus=t),null!=e&&(this.options.prefill=e),p.push(this)},n.prototype.hide=function(){return this!==p.top()?(p.remove(this),this._hide()):p.pop()},n.prototype._show=function(){var t;if(!this.visible){this.__last_show_time=Date.now(),this.__clone_modal(),"function"==typeof this.before_show&&this.before_show(this.$modal_window),this.__show_modal(),this.__listen(),this.visible=!0,r.getScope()!==this.constructor.KEY_SCOPE&&(this.prev_key_scope=r.getScope()),r.setScope(this.constructor.KEY_SCOPE),t=null;try{t=new Event("modalOpened")}catch(e){t=document.createEvent("Event"),t.initEvent("modalOpened",!0,!0)}return document.dispatchEvent(t),i.scroll_lock_document(),"function"==typeof this.on_show&&this.on_show(),this.__prefill(),this.__focus(),this}},n.prototype._hide=function(){var t;if(this.visible){this.__unlisten(),r.setScope(this.prev_key_scope),this.$modal_window.remove(),this.visible=!1,this.prev_key_scope=null,t=null;try{t=new Event("modalClosed")}catch(e){t=document.createEvent("Event"),t.initEvent("modalClosed",!0,!0)}return document.dispatchEvent(t),i.scroll_unlock_document(),"function"==typeof this.on_hide&&this.on_hide(),this}},n.prototype.set_title=function(t){return this.$modal_window.find(".db-modal-title-text").text(t),this},n})(),h=(function(e){function r(e,n){this.user=e,this.__inject_basic_user_properties=t(this.__inject_basic_user_properties,this),this.before_show=t(this.before_show,this),r.__super__.constructor.call(this,n)}return n(r,e),r.prototype.before_show=function(t){return r.__super__.before_show.call(this,t),this.__inject_basic_user_properties(t)},r.prototype.__inject_basic_user_properties=function(t){var e,n;return e=t.find("form"),e.find("input[name='_subject_uid']").remove(),n=o('<input type="hidden">').attr({name:"_subject_uid",value:this.user.id}),e.append(n),t.find(".dbmodal-email-placeholder").text(this.user.email)},r})(u),{DBModal:u,DBUserModal:h}})}).call(this),function(){var t={}.hasOwnProperty;define("modules/clean/flux/action_type",[],function(){var e;return e=function(e,n){var o,r,s,i;s={},i={};for(o in n)if(t.call(n,o)){if(r=n[o],s[o]=e+"__"+r,null!=i[r])throw new Error("Duplicate action value '"+r+"'!");i[r]=!0}return s},{withActionNamespace:e}})}.call(this),function(){"use strict";var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};define("modules/clean/flux/base_store",["modules/core/exception","modules/clean/flux/dispatcher"],function(e,n){var assert,o;return assert=e.assert,o=(function(){var e,o;return o=!1,e=[],n.dispatch_begin=function(){return o=!0},n.dispatch_end=function(){var t,n,r,s;o=!1;try{for(s=[],n=0,r=e.length;n<r;n++)t=e[n],s.push(t());return s}finally{e.length=0}},function(n){return o?t.call(e,n)<0?e.push(n):void 0:n()}})(),(function(){function e(t){null==t&&(t=null),"function"==typeof this._init&&this._init(),this._change_listeners=[],this._dispatcher=t||n,this.dispatchToken=this._dispatcher.register(this._new_payload_wrapper.bind(this))}return e.WIPE_TYPE="WIPE_ALL",e.prototype.destructor=function(){return this._dispatcher.unregister(this.dispatchToken),this.remove_all_change_listeners()},e.prototype.emit_change=function(){var t,e,n,r,s;for(r=this._change_listeners,s=[],e=0,n=r.length;e<n;e++)t=r[e],s.push(o(t));return s},e.prototype.add_change_listener=function(e){return assert(!(t.call(this._change_listeners,e)>=0)),this._change_listeners.push(e)},e.prototype.remove_change_listener=function(t){var e;return this._change_listeners=function(){var n,o,r,s;for(r=this._change_listeners,s=[],n=0,o=r.length;n<o;n++)e=r[n],e!==t&&s.push(e);return s}.call(this)},e.prototype.remove_all_change_listeners=function(){return this._change_listeners.length=0},e.prototype._new_payload_wrapper=function(t){var e;return(null!=t&&null!=(e=t.action)?e.type:void 0)===this.constructor.WIPE_TYPE&&"function"==typeof this._init&&this._init(),this._new_payload(t)},e.prototype._new_payload=function(t){throw new Error("Abstract method - must be implemented")},e})()})}.call(this),function(){define("modules/clean/flux/flux_store",function(){return(function(){function t(t){this._listeners=[],this._dispatcher=t,this._dispatchToken=this._dispatcher.register(this.__invokeOnDispatch.bind(this)),this.__hasChanged=!1}return t.prototype.teardown=function(){return this._dispatcher.unregister(this._dispatchToken)},t.prototype.getDispatcher=function(){return this._dispatcher},t.prototype.getDispatchToken=function(){return this._dispatchToken},t.prototype.addListener=function(t){return this._listeners.push(t),(function(e){return function(){var n;return e._listeners=function(){var e,o,r,s;for(r=this._listeners,s=[],e=0,o=r.length;e<o;e++)n=r[e],n!==t&&s.push(n);return s}.call(e)}})(this)},t.prototype.hasChanged=function(){return this.__hasChanged},t.prototype.__emitChange=function(){return this.__hasChanged=!0},t.prototype.__onDispatch=function(){throw new Error("__onDispatch should be overridden by subclass")},t.prototype.__invokeOnDispatch=function(t){var e,n,o,r,s;if(this.__hasChanged=!1,this.__onDispatch(t),this.__hasChanged){for(r=this._listeners,s=[],n=0,o=r.length;n<o;n++)e=r[n],s.push(e());return s}},t})()})}.call(this),function(){define("modules/clean/history",["external/underscore","modules/core/exception","modules/core/uri"],function(t,e,n){var assert;return assert=e.assert,(function(){var e,o,r,s,i,a,l,c,u,p,h,d,f,_,m,g,T;return e=new RegExp("#|;|\\?|:|@|&|=|\\+|\\$"),f=function(){var t,o;return void 0,t=window.location.pathname,o=window.location.search,t.search(e)!==-1&&(t=String(n({path:t}))),t+o},i=function(t,e){return String(n.parse(t).setQuery(e))},a=function(t){var e;return null==t&&(t=f()),e=t.split("?"),{url:t,path:e[0],qargs:n.parse(t).getQuery()}},l={},c={},_=f(),T=null,o="",d=function(t){return o+"/"+t.substring(o.length).split("/")[1]},g=function(t){return o=t},u=function(t){var e,n,o,r,s,i,l,c,u;if(u=_,c=a(u),s=d(c.path),s in t){for(r=c.path.substr(s.length+1),i=t[s],l=[],n=0,o=i.length;n<o;n++)e=i[n],l.push(e(r,c.qargs));return l}},p=function(){return u(l)},h=function(){return u(c)},m=function(t,e,n){var o;if(n[t])return o=n[t].indexOf(e),n[t].splice(o,1)},r=function(t,e){var n,o;if(o=d(t),n=d(e),o!==n)return h()},s=function(){var t;if(t=f(),t!==_)return r(_,t),_=t,p()},{init:function(){if(!T)return _=f(),T=setInterval(s,50)},_add_callback:function(t,e,n){return this.init(),assert("string"==typeof t,"DBHistory prefix is not a string"),assert(0===t.indexOf("/"),"DBHistory prefix must be absolute"),assert(t.substring(o.length).indexOf("/",1)===-1,"multi-component prefixes arent supported"),n[t]||(n[t]=[]),n[t].push(e)},add_callback:function(t,e,n){if(null==n&&(n=!1),this._add_callback(t,e,l),!n)return p()},remove_callback:function(t,e){return m(t,e,l)},remove_exit_callback:function(t,e){return m(t,e,c)},add_exit_callback:function(t,e){return this._add_callback(t,e,c)},fire_callbacks:function(){return p()},fire_exit_callbacks:function(){return h()},_build_url_for_state_change:function(t,e){return assert("string"==typeof t,"DBHistory path is not a string"),assert(0===t.indexOf("/"),"DBHistory path must be absolute"),assert(t.indexOf("//")===-1,"DBHistory path contains //"),i(t,e)},_pre_state_change:function(t){return t!==_&&(r(_,t),!0)},_post_state_change:function(t){if(null==t&&(t=!0),_=f(),t)return p()},replace_state:function(t,e){var n;if(n=this._build_url_for_state_change(t,e),this._pre_state_change(n)&&window.history.replaceState)return window.history.replaceState(null,null,n),this._post_state_change()},push_state:function(e,n,o){var r;if(null==o&&(o={}),o=t.defaults(o,{immediatelyRestoreState:!0}),assert(e.indexOf("?")===-1,"DBHistory path contains ?"),assert(e.indexOf("#")===-1,"DBHistory path contains #"),r=this._build_url_for_state_change(e,n),this._pre_state_change(r))return window.history.pushState(null,null,r),this._post_state_change(o.immediatelyRestoreState)},update_query_param:function(t,e){var n;return n=this.deconstruct_url(),n.qargs[t]=e,this.replace_state(n.path,n.qargs)},remove_query_param:function(t){var e;return e=this.deconstruct_url(),delete e.qargs[t],this.replace_state(e.path,e.qargs)},get_url:f,construct_url:i,deconstruct_url:a,set_base_prefix:g,URL_ESCAPE_REGEX:e}})()})}.call(this),define("modules/clean/init_react",["require","exports","tslib","modules/core/exception","external/react","external/react-dom"],function(t,e,n,o,r,s){"use strict";function i(t,e){function i(){var t=document.getElementById(e.elem_id);if(t){var u=e.component_name||"unknown_react_component",p=new c(u).start();try{s.render(r.createElement(a,e.props),t);p.end()}catch(r){console.error(r),o.reportException({err:r,exc_extra:{componentDesc:n.__assign({},e,{props:"redacted"}),domElementExists:!!t}})}}else Date.now()-l<1e4?window.requestAnimationFrame(i):o.reportStack("React container not found in DOM after 10s: "+e.elem_id)}var a;a=null!=e.component_name?t[e.component_name]:t;var l=Date.now();i()}function a(){return c.getData()}Object.defineProperty(e,"__esModule",{value:!0});e.mountComponent=i;var l=!(!window.performance||!window.performance.now),c=(function(){function t(t){this.componentName=t,this.shouldShowDebugSpans=window.performance&&window.performance.mark&&window.performance.measure&&window.location.search.indexOf("show_debug_spans")>-1}return t.prototype.start=function(){return l&&(this.shouldShowDebugSpans&&window.performance.mark(this.componentName+" InitReact start"),this.startTime=window.performance.now()),this},t.prototype.end=function(){l&&(t.RECORDED_COMPONENTS.push({name:this.componentName,startTime:this.startTime,endTime:window.performance.now()}),this.shouldShowDebugSpans&&(window.performance.mark(this.componentName+" InitReact end"),window.performance.measure("InitReact "+this.componentName,this.componentName+" InitReact start",this.componentName+" InitReact end")))},t.getData=function(){return t.RECORDED_COMPONENTS},t})();c.RECORDED_COMPONENTS=[],e.getReactInitData=a}),define("modules/clean/raf_throttle",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=(function(){function t(t){var e=this;this.request=function(){e.ticking||(e.ticking=!0,e.currentRequestId=requestAnimationFrame(function(){e.thunk(),e.ticking=!1}))},this.cancelPending=function(){cancelAnimationFrame(e.currentRequestId)},this.thunk=t}return t})();e.RafThrottle=n}),function(){define("modules/clean/react/bubble_dropdown_v2",["jquery","external/classnames","external/react","external/react-dom","external/underscore","modules/clean/keycode","modules/clean/react/css","modules/clean/react/overlay"],function(t,e,n,o,r,s,i,a){var l,c,u,p,h,d,f;return s.KeyCode,p=a.PositionedOverlay,f=n.DOM,d=n.createElement,u=p.POSITIONS,c=n.createClass({displayName:"BubbleDropdownContents",propTypes:{targetNode:n.PropTypes.instanceOf(HTMLElement).isRequired,position:n.PropTypes.oneOf(r.values(u)).isRequired,verticalArrowOffset:n.PropTypes.number,horizontalArrowOffset:n.PropTypes.number,shouldShowArrow:n.PropTypes.bool,shouldArrowDecrement:n.PropTypes.bool,className:n.PropTypes.string,isMaestroDesign:n.PropTypes.bool},getDefaultProps:function(){return{verticalArrowOffset:0,horizontalArrowOffset:0,shouldShowArrow:!0,shouldArrowDecrement:!0,className:null,isMaestroDesign:!1}},componentDidMount:function(){return this._adjustArrowPosition()},componentDidUpdate:function(){return this._adjustArrowPosition(!0)},_getArrowStyleFromPosition:function(){var t,e;return e={},e[""+u.TOP_LEFT]="top-left",e[""+u.TOP]="top",e[""+u.TOP_RIGHT]="top-right",e[""+u.LEFT_TOP]="left-top",e[""+u.LEFT]="left",e[""+u.LEFT_BOTTOM]="left-bottom",e[""+u.RIGHT_TOP]="right-top",e[""+u.RIGHT]="right",e[""+u.RIGHT_BOTTOM]="right-bottom",e[""+u.BOTTOM_LEFT]="bottom-left",e[""+u.BOTTOM]="bottom",e[""+u.BOTTOM_RIGHT]="bottom-right",e[""+u.TOP_ALIGN_LEFT]="top-align-left",e[""+u.TOP_ALIGN_RIGHT]="top-align-right",e[""+u.LEFT_ALIGN_TOP]="left-align-top",e[""+u.LEFT_ALIGN_BOTTOM]="left-align-bottom",e[""+u.RIGHT_ALIGN_TOP]="right-align-top",e[""+u.RIGHT_ALIGN_BOTTOM]="right-align-bottom",e[""+u.BOTTOM_ALIGN_LEFT]="bottom-align-left",e[""+u.BOTTOM_ALIGN_RIGHT]="bottom-align-right",t=e,t[this.props.position]},_adjustArrowPosition:function(e){var n;if(null==e&&(e=!1),this.props.shouldShowArrow){switch(n=t(o.findDOMNode(this.refs.bubbleArrowContainer)),this.props.position){case u.TOP_ALIGN_LEFT:case u.BOTTOM_ALIGN_LEFT:n.css("left",this.props.targetNode.offsetWidth/2);break;case u.TOP_ALIGN_RIGHT:case u.BOTTOM_ALIGN_RIGHT:n.css("right",this.props.targetNode.offsetWidth/2);break;case u.LEFT_ALIGN_TOP:case u.RIGHT_ALIGN_TOP:n.css("top",this.props.targetNode.offsetHeight/2);break;case u.LEFT_ALIGN_BOTTOM:case u.RIGHT_ALIGN_BOTTOM:n.css("bottom",this.props.targetNode.offsetHeight/2)}return(!e||e&&this.props.shouldArrowDecrement)&&(this.props.verticalArrowOffset||this.props.horizontalArrowOffset)&&(this._getArrowStyleFromPosition().match(/^(top|bottom)/)&&n.css("left","-="+this.props.horizontalArrowOffset),this._getArrowStyleFromPosition().match(/^(left|right)/))?n.css("top","-="+this.props.verticalArrowOffset):void 0}},render:function(){return f.div({className:this.props.isMaestroDesign?"maestro":""},f.div({ref:"dropdown",className:e("bubble-dropdown-v2","bubble-dropdown-v2--"+this._getArrowStyleFromPosition(),this.props.className),"aria-labelledby":this.props.targetNode.id},this.props.children,this.props.shouldShowArrow?f.div({ref:"bubbleArrowContainer",className:"bubble-arrow-container"},f.div({className:"bubble-arrow-border"}),f.div({className:"bubble-arrow"})):null))}}),h=n.createClass({displayName:"BubbleDropdown",propTypes:{targetButton:function(t,e,n){if(null==t.targetButton||"button"!==t.targetButton.type)return new Error("BubbleDropdown's targetButton must be a `<button>`")},position:n.PropTypes.oneOf(r.values(u)).isRequired,targetFixed:n.PropTypes.bool,verticalDisplacement:n.PropTypes.number,horizontalDisplacement:n.PropTypes.number,className:n.PropTypes.string,disabled:n.PropTypes.bool,shouldShowArrow:n.PropTypes.bool,shouldTrapKeyboardFocus:n.PropTypes.bool,onShowDropdown:n.PropTypes.func,onHideDropdown:n.PropTypes.func,shouldArrowDecrement:n.PropTypes.bool,isMaestroDesign:n.PropTypes.bool},getDefaultProps:function(){return{targetFixed:!1,verticalDisplacement:0,horizontalDisplacement:0,className:null,disabled:!1,shouldShowArrow:!0,shouldTrapKeyboardFocus:!1,onShowDropdown:r.noop,onHideDropdown:r.noop,shouldArrowDecrement:!0,isMaestroDesign:!1}},getInitialState:function(){return{isVisible:!1,targetNode:null,shouldAutoFocusDropdownContent:!1}},componentWillMount:function(){return this.hasOnShowNotBeenCalledSinceLastOpened=!1},updateTargetNode:function(){var t;return t=o.findDOMNode(this.refs.bubbleDropdownContainer).childNodes[0],t&&(t.setAttribute("aria-expanded",this.state.isVisible),t.hasAttribute("id")||t.setAttribute("id","bubbleDropdownTarget-"+r.uniqueId())),this.setState({targetNode:t})},componentDidMount:function(){return this.updateTargetNode()},componentWillUpdate:function(t,e){if((!this.state.isVisible||this.props.disabled)&&e.isVisible&&!t.disabled)return this.hasOnShowNotBeenCalledSinceLastOpened=!0},componentDidUpdate:function(t,e){var n;if(e.isVisible!==this.state.isVisible&&(this.state.isVisible||this._hasHidden()),n=o.findDOMNode(this.refs.bubbleDropdownContainer).childNodes[0],n!==this.state.targetNode)return this.updateTargetNode()},showDropdown:function(){if(!this.props.disabled)return this.setState({isVisible:!0})},hideDropdown:function(){if(!this.props.disabled)return this.setState({isVisible:!1})},_handleClick:function(t){var e;return e=!(t.clientX>0&&t.clientY>0),this.setState({shouldAutoFocusDropdownContent:e},this._toggle)},_toggle:function(){if(!this.props.disabled)return this.setState({isVisible:!this.state.isVisible})},_hasShown:function(){if(this.state.targetNode.setAttribute("aria-expanded",!0),this.hasOnShowNotBeenCalledSinceLastOpened)return this.props.onShowDropdown(),this.hasOnShowNotBeenCalledSinceLastOpened=!1},_hasHidden:function(){return this.state.targetNode.setAttribute("aria-expanded",!1),this.props.onHideDropdown()},render:function(){return f.div({className:"bubble-dropdown-v2-container",onClick:this._handleClick,ref:"bubbleDropdownContainer"},this.props.targetButton,this.state.isVisible&&!this.props.disabled?d(p,{targetNode:this.state.targetNode,isTargetPositionFixed:this.props.targetFixed,shouldTrapKeyboardFocus:this.props.shouldTrapKeyboardFocus,shouldAutoFocusOverlayContent:this.state.shouldAutoFocusDropdownContent,position:this.props.position,positionOffset:{horizontal:this.props.horizontalDisplacement,vertical:this.props.verticalDisplacement},onRendered:(function(t){return function(){return t._hasShown()}})(this),onBlur:(function(t){return function(){return t.hideDropdown()}})(this)},d(c,{ref:"bubbleDropdownContents",targetNode:this.state.targetNode,position:this.props.position,verticalArrowOffset:this.props.verticalDisplacement,horizontalArrowOffset:this.props.horizontalDisplacement,shouldShowArrow:this.props.shouldShowArrow,className:this.props.className,shouldArrowDecrement:this.props.shouldArrowDecrement,isMaestroDesign:this.props.isMaestroDesign},this.props.children)):void 0)}}),l=i(h,["/static/css/components/bubble_dropdown_v2-vflzxzIjM.css"]),l.POSITIONS=u,l})}.call(this),define("modules/clean/react/button",["require","exports","tslib","external/classnames","external/react"],function(t,e,n,o,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=(function(t){function e(e){var n=t.call(this,e)||this;return n._buildDOMAttributes=n._buildDOMAttributes.bind(n),n}return n.__extends(e,t),e.prototype._buildDOMAttributes=function(t){var e={};"styleless"!==t.importance&&(e["button-"+t.importance]=!0),e["button-"+t.variant]=null!=t.variant&&"standard"!==t.variant,null!=t.className&&(e[t.className]=!0);var r=(t.importance,t.variant,n.__rest(t,["importance","variant"]));return r.className=o(e),r},e})(r.Component);s.defaultProps={importance:"primary"};var i=(function(t){function e(e){return t.call(this,e)||this}return n.__extends(e,t),e.prototype.render=function(){return r.DOM.button(this._buildDOMAttributes(this.props),this.props.children)},e})(s);e.Button=i;var a=(function(t){function e(e){return t.call(this,e)||this}return n.__extends(e,t),e.prototype.render=function(){var t=this._buildDOMAttributes(this.props);return delete t.disabled,r.DOM.a(t,this.props.children)},e})(s);e.LinkButton=a,e.button=i,e.link_button=a}),function(){define("modules/clean/react/css",["external/react","modules/clean/css","modules/clean/js_environment","external/hoist-non-react-statics"],function(t,e,n,o){var r;return r={LOADING:"loading",SUCCESS:"success",FAILED:"failed",FORCE_RENDERED:"force-rendered"},function(s,i,a,l){var c,u,p,h,d,f,_,m,g,T,b,y,v,O,w;for(null==a&&(a=[]),null==l&&(l={}),g=s.displayName||s.name||"UnnamedComponent",w="Css("+g+")",f={},m=0,y=i.length;m<y;m++)_=i[m],f[_]=!0;for(T=0,v=a.length;T<v;T++)if(u=a[T],h="function"==typeof u.getCombinedCssPaths?u.getCombinedCssPaths():void 0,(null!=h?h.length:void 0)>0)for(b=0,O=h.length;b<O;b++)p=h[b],f[p]=!0;return d=Object.keys(f),c=t.createClass({displayName:w,statics:{getCombinedCssPaths:function(){return d},wrappedClass:s},propTypes:{cssPlaceholder:t.PropTypes.node,onCssFail:t.PropTypes.func,onCssLoad:t.PropTypes.func,skipCssInTest:t.PropTypes.bool},getDefaultProps:function(){return{cssPlaceholder:null,onCssFail:function(t){return t()},onCssLoad:null,skipCssInTest:!0}},getInitialState:function(){var t;return t=n.isTest()&&this.props.skipCssInTest||e.is_loaded(d)?r.FORCE_RENDERED:r.LOADING,{cssMode:t}},componentWillMount:function(){if(this._isMounted=!0,this.state.cssMode===r.LOADING)return l.onWillLoadCss&&l.onWillLoadCss(),e.require_css_multi(d,this._handleCssLoaded,this._handleCssFailed)},componentWillUnmount:function(){return this._isMounted=!1},render:function(){var e;return(e=this.state.cssMode)===r.FORCE_RENDERED||e===r.SUCCESS?t.createElement(s,Object.assign({ref:"wrapped"},this.props),this.props.children):this.props.cssPlaceholder},getWrappedComponent:function(){return this.refs.wrapped},_handleCssLoaded:function(){if(l.onCssResponse&&l.onCssResponse(),this._isMounted)return this.setState({cssMode:r.SUCCESS},(function(t){return function(){var e;return"function"==typeof(e=t.props).onCssLoad?e.onCssLoad():void 0}})(this))},_handleCssFailed:function(){if(l.onCssResponse&&l.onCssResponse(),this._isMounted)return this.setState({cssMode:r.FAILED},(function(t){return function(){var e;return"function"==typeof(e=t.props).onCssFail?e.onCssFail(t._forceRender):void 0}})(this))},_forceRender:function(){return this.setState({cssMode:r.FORCE_RENDERED})}}),o(c,s)}})}.call(this),define("modules/clean/react/file_icon_view",["require","exports","tslib","external/classnames","external/react","modules/clean/react/sprite"],function(t,e,n,o,r,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={useIcon:!1},e.handleError=function(){e.setState({useIcon:!0})},e}return n.__extends(e,t),e.prototype.render=function(){var t,e=this.props,n=e.className,i=e.icon,a=e.src,l=[n,"file-icon"];return this.state.useIcon||!a?(t=r.createElement(s,{group:"web",name:i,alt:"",className:"file-icon__img"}),l.push("file-icon--sprite")):(t=r.createElement("img",{src:a,onError:this.handleError,alt:"",className:"file-icon__img"}),l.push("file-icon--thumbnail")),r.createElement("span",{className:o(l)},t)},e})(r.PureComponent);e.FileIconView=i}),function(){define("modules/clean/react/free_positioned",["jquery","external/react","external/react-dom","external/underscore","modules/clean/raf_throttle"],function(t,e,n,o,r){var s,i,a,l;return s=r.RafThrottle,a=e.DOM,i={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT_TOP:4,LEFT:5,LEFT_BOTTOM:6,RIGHT_TOP:7,RIGHT:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM:11,BOTTOM_RIGHT:12,TOP_ALIGN_LEFT:13,TOP_ALIGN_RIGHT:14,LEFT_ALIGN_TOP:15,LEFT_ALIGN_BOTTOM:16,RIGHT_ALIGN_TOP:17,RIGHT_ALIGN_BOTTOM:18,BOTTOM_ALIGN_LEFT:19,BOTTOM_ALIGN_RIGHT:20},l=function(e){var n,o,r,s,a;return a=e.targetNode,n=e.isTargetFixed,r=e.position,o=null!=(s=e.offset)?s:{},function(e,s){var l;if(null==a)return null;if(l=t(a).offset(),n&&(l.top-=t(window).scrollTop(),s&&(l.left-=window.pageXOffset)),null==e)return{top:l.top,left:l.left};switch(o.vertical&&(l.top+=o.vertical),o.horizontal&&(l.left+=o.horizontal),r){case i.TOP_LEFT:return{top:l.top-e.offsetHeight,left:l.left+.5*a.offsetWidth-.75*e.offsetWidth};case i.TOP:return{top:l.top-e.offsetHeight,left:l.left+.5*(a.offsetWidth-e.offsetWidth)};case i.TOP_RIGHT:return{top:l.top-e.offsetHeight,left:l.left+.5*a.offsetWidth-.25*e.offsetWidth};case i.LEFT_TOP:return{top:l.top+.5*a.offsetHeight-.75*e.offsetHeight,left:l.left-e.offsetWidth};case i.LEFT:return{top:l.top+.5*(a.offsetHeight-e.offsetHeight),left:l.left-e.offsetWidth};case i.LEFT_BOTTOM:return{top:l.top+.5*a.offsetHeight-.25*e.offsetHeight,left:l.left-e.offsetWidth};case i.RIGHT_TOP:return{top:l.top+.5*a.offsetHeight-.75*e.offsetHeight,left:l.left+a.offsetWidth};case i.RIGHT:return{top:l.top+.5*(a.offsetHeight-e.offsetHeight),left:l.left+a.offsetWidth};case i.RIGHT_BOTTOM:return{top:l.top+.5*a.offsetHeight-.25*e.offsetHeight,left:l.left+a.offsetWidth};case i.BOTTOM_LEFT:return{top:l.top+a.offsetHeight,left:l.left+.5*a.offsetWidth-.75*e.offsetWidth};case i.BOTTOM:return{top:l.top+a.offsetHeight,left:l.left+.5*(a.offsetWidth-e.offsetWidth)};case i.BOTTOM_RIGHT:return{top:l.top+a.offsetHeight,left:l.left+.5*a.offsetWidth-.25*e.offsetWidth};case i.TOP_ALIGN_LEFT:return{top:l.top-e.offsetHeight,left:l.left};case i.TOP_ALIGN_RIGHT:return{top:l.top-e.offsetHeight,left:l.left+a.offsetWidth-e.offsetWidth};case i.LEFT_ALIGN_TOP:return{top:l.top,left:l.left-e.offsetWidth};case i.LEFT_ALIGN_BOTTOM:return{top:l.top+a.offsetHeight-e.offsetHeight,left:l.left-e.offsetWidth};case i.RIGHT_ALIGN_TOP:return{top:l.top,left:l.left+a.offsetWidth};case i.RIGHT_ALIGN_BOTTOM:return{top:l.top+a.offsetHeight-e.offsetHeight,left:l.left+a.offsetWidth};case i.BOTTOM_ALIGN_LEFT:return{top:l.top+a.offsetHeight,left:l.left};case i.BOTTOM_ALIGN_RIGHT:return{top:l.top+a.offsetHeight,left:l.left+a.offsetWidth-e.offsetWidth}}}},e.createClass({displayName:"FreePositioned",statics:{STICKY_POSITION:i,makeStickyPositioner:l},propTypes:{getPositioning:e.PropTypes.func.isRequired,isTargetFixed:e.PropTypes.bool,initialPositioning:e.PropTypes.shape({top:e.PropTypes.number,left:e.PropTypes.number}),onReposition:e.PropTypes.func,compensateForHorizontalScroll:e.PropTypes.bool},_throttle:null,_scrollHandler:null,_debounceRate:500,getDefaultProps:function(){return{isTargetFixed:!1,initialPositioning:null,compensateForHorizontalScroll:!0}},getInitialState:function(){return{positioning:this.props.initialPositioning}},componentDidMount:function(){return this._throttle=new s(this._updatePositioning),t(window).on("resize.freePositioned",this._throttle.request),this.props.compensateForHorizontalScroll&&(this._scrollHandler=this._createScrollHandler(),t(window).on("scroll.freePositioned",this._scrollHandler)),this._updatePositioning()},componentDidUpdate:function(t){
if(this.props!==t)return this._throttle.request()},componentWillUnmount:function(){if(this._throttle.cancelPending(),t(window).off("resize.freePositioned",this._throttle.request),this.props.compensateForHorizontalScroll)return t(window).off("scroll.freePositioned",this._scrollHandler)},render:function(){return a.div({ref:"root",style:this._getStyle(),tabIndex:-1},this.props.children)},_getStyle:function(){return o.extend({outline:0,position:this.props.isTargetFixed?"fixed":"absolute"},this.state.positioning)},_createScrollHandler:function(){var t;return t=o.debounce(this._throttle.request,this._debounceRate),(function(e){return function(){return e._throttle.request(),t()}})(this)},_updatePositioning:function(){var t;if(this.refs.root)return t=this.props.getPositioning(n.findDOMNode(this),this.props.compensateForHorizontalScroll),null!=t?this.setState({positioning:t},(function(t){return function(){var e;return"function"==typeof(e=t.props).onReposition?e.onReposition(t.state.positioning):void 0}})(this)):void 0}})})}.call(this),function(){define("modules/clean/react/helpers",["external/immutable","external/underscore"],function(t,e){var n;return Object.is||(Object.is=function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}),n=function(t,e){var n,o,r,s,i,a,l,c,u,p;if(t===e)return!0;if(s=Object.keys(t),i=Object.keys(e),s.length!==i.length)return!1;for(n=0,l=s.length;n<l;n++)if(a=s[n],u=t[a],p=e[a],Array.isArray(u)&&Array.isArray(p)){if(u.length!==p.length)return!1;for(o=r=0,c=u.length;r<c;o=++r)if(u[o],u[o]!==p[o])return!1}else if(!Object.is(u,p))return!1;return!0},{compareStateAndProps:function(t,n){return!e.isEqual(this.state,n)||!e.isEqual(this.props,t)},shallowCompareStateAndProps:function(t,e){return!n(this.state,e)||!n(this.props,t)}}})}.call(this),function(){define("modules/clean/react/hidden",["external/react","external/underscore"],function(t,e){var n,o,r,s;return s=t.DOM,r=t.createElement,n=t.createClass({displayName:"Hidden",render:function(){return s.div({className:"hidden-option"},this.props.children)}}),o=t.createClass({displayName:"HiddenSelect",propTypes:{options:t.PropTypes.arrayOf(t.PropTypes.any).isRequired,value:t.PropTypes.any},render:function(){var t;return r(n,{},s.select(e.omit(this.props,"options"),function(){var e,n,o,r;for(o=this.props.options,r=[],e=0,n=o.length;e<n;e++)t=o[e],r.push(s.option({key:t,label:t,value:t}));return r}.call(this)))}}),{Hidden:n,HiddenSelect:o}})}.call(this),function(){define("modules/clean/react/image",["external/react","external/underscore","modules/constants/page_load","modules/core/exception"],function(t,e,n,o){var r,s,i,a,reportStack,l;return o.assert,reportStack=o.reportStack,s=t.DOM,a=function(t){return t.indexOf("-vfl")!==-1},i=function(t){return t.endsWith(".svg")},l={},r=function(t){if(!a(t)&&null==l[t])return l[t]=!0,reportStack("Non-VFL path detected: "+t+".  This usually means that the image doesn't exist and is 404ing; though another possibility is that the image exists but vfl cache busting isn't being applied, which can happen when the url is a relative url, since we generally don't vfl relative urls.")},t.createClass({displayName:"Image",propTypes:{alt:t.PropTypes.string,src:t.PropTypes.string.isRequired,srcHiRes:t.PropTypes.string,onLoad:t.PropTypes.func,className:t.PropTypes.string,id:t.PropTypes.string,width:t.PropTypes.number,height:t.PropTypes.number},getDefaultProps:function(){return{alt:""}},render:function(){var t,n;return r(this.props.src),!i(this.props.src)&&this.props.srcHiRes&&r(this.props.srcHiRes),n=!i(this.props.src)||this.props.srcHiRes?this.props.srcHiRes+" 2x":this.props.src,t={src:this.props.src,srcSet:n,alt:this.props.alt,id:this.props.id,className:this.props.className,onLoad:this.props.onLoad,width:this.props.width,height:this.props.height},e.extend(t,e.pick(this.props,function(t,e){return e.match(/^(aria|data)-/)})),s.img(t)}})})}.call(this),function(){define("modules/clean/react/overlay",["jquery","external/classnames","external/react","external/react-dom","external/underscore","modules/clean/keycode","modules/clean/react/css","modules/clean/react/free_positioned","modules/clean/react/portal","modules/core/dom"],function(t,e,n,o,r,s,i,a,l,c){var u,p,h,d,f,_;return u=s.KeyCode,_=n.DOM,f=n.createElement,d=n.createClass({displayName:"Overlay",propTypes:{children:n.PropTypes.node.isRequired,overlayRoot:n.PropTypes.instanceOf(HTMLElement),overlayTarget:n.PropTypes.instanceOf(HTMLElement),isFullScreen:n.PropTypes.bool,shouldTrapKeyboardFocus:n.PropTypes.bool,isContentFocusable:n.PropTypes.bool,shouldAutoFocusOverlayContent:n.PropTypes.bool,position:n.PropTypes.shape({top:n.PropTypes.number,left:n.PropTypes.number}),onRendered:n.PropTypes.func,onBlur:n.PropTypes.func,className:n.PropTypes.string},getDefaultProps:function(){return{overlayRoot:null,overlayTarget:null,isFullScreen:!1,shouldTrapKeyboardFocus:!1,isContentFocusable:!0,shouldAutoFocusOverlayContent:!0,position:null,onRendered:r.noop,onBlur:r.noop}},componentWillMount:function(){return this._rootContainer=document.body,this.overlayTarget=this.props.overlayTarget||document.activeElement},overlayContentDidMount:function(){return this.$overlayContent=t(o.findDOMNode(this.refs.overlayContent)),this.props.isContentFocusable&&(this._focusElementInOverlay(),this._bindOverlayHandlers()),this.props.isFullScreen&&(this._maskElementsBehindOverlay(this.$overlayContent),c.scroll_lock_document()),this.props.onRendered()},componentDidUpdate:function(t){if(this.$overlayContent&&!t.isContentFocusable&&this.props.isContentFocusable)return this._focusElementInOverlay(),this._bindOverlayHandlers()},componentWillUnmount:function(){if(this._unbindOverlayHandlers(),this.props.isFullScreen)return this._unmaskElementsBehindOverlay(this.$overlayContent),c.scroll_unlock_document()},_bindOverlayHandlers:function(){return this.$overlayContent.on("keydown",this._handleKeyDown),window.addEventListener("mousedown",this._handleFocusOutOverlay,!0),window.addEventListener("blur",this._handleFocusIntoIframe,!0)},_unbindOverlayHandlers:function(){return this.$overlayContent.off("keydown"),window.removeEventListener("mousedown",this._handleFocusOutOverlay,!0),window.removeEventListener("blur",this._handleFocusIntoIframe,!0)},_getContentStyle:function(){return this.props.position&&!this.props.isFullScreen?{top:this.props.position.top,left:this.props.position.left}:{}},_maskElementsBehindOverlay:function(t){return this._setScreenReaderHiddenForSiblingsAndAncestors(t,!0)},_unmaskElementsBehindOverlay:function(t){return this._setScreenReaderHiddenForSiblingsAndAncestors(t,!1)},_setScreenReaderHiddenForSiblingsAndAncestors:function(t,e){var n,o;if(o=t.siblings().not("#accessible-announce"),e?o.attr("aria-hidden",!0):o.removeAttr("aria-hidden"),n=t.parent(),!n.is(this._rootContainer))return this._setScreenReaderHiddenForSiblingsAndAncestors(n,e)},_focusElementInOverlay:function(){var t,e;return t=this.$overlayContent.children().first(),null==t.attr("tabindex")&&(t=this.$overlayContent),this.props.shouldAutoFocusOverlayContent&&(e=c.getTabbableElementsIn(this.$overlayContent),e.length>0&&(t=e[0])),t.focus()},_handleKeyDown:function(t){if(this.props.isContentFocusable)return t.which===u.TAB?this._handleTabNavigate(t):t.which===u.ESC?this._blur(t,this.overlayTarget):void 0},_handleFocusOutOverlay:function(t){if(this.props.isContentFocusable)return t.target===this.overlayTarget||this.overlayTarget.contains(t.target)||this.$overlayContent.get(0).contains(t.target)?void 0:this._blur(t,t.target||this.overlayTarget)},_handleFocusIntoIframe:function(t){if("IFRAME"===document.activeElement.tagName)return this._blur(t,document.activeElement)},_handleTabNavigate:function(t){var e,n,o,r,s,i,a,l;return this.props.shouldTrapKeyboardFocus||this.props.isFullScreen?c.keepFocusIn(this.$overlayContent,t):(s=c.getTabbableElementsIn(this.$overlayContent),e=s[0],o=s[s.length-1],!t.shiftKey||(i=t.target)!==this.$overlayContent.get(0)&&i!==e?t.shiftKey||(a=t.target)!==this.$overlayContent.get(0)&&a!==o?void 0:(n=c.getFocusableElementsIn(this.overlayTarget.parentNode),l=n.index(this.overlayTarget),r=l<n.length-1?n[l+1]:this.overlayTarget,this._blur(t,r)):this._blur(t,this.overlayTarget))},_blur:function(t,e){return t.preventDefault(),t.stopPropagation(),e.focus(),this.props.onBlur(t)},render:function(){var t,n;return t=e([this.props.className,{"react-overlay":!0,"react-overlay--is-fullscreen":this.props.isFullScreen}]),n={ref:"overlayContent",tabIndex:-1,className:t,style:this._getContentStyle()},this.props.isFullScreen&&(n.role="dialog"),f(l,{parentElement:this.props.overlayRoot||this._rootContainer,onRendered:this.overlayContentDidMount},_.div(n,this.props.children))}}),p=i(d,["/static/css/react/portal_overlay-vfl6_Epv8.css"]),h=n.createClass({displayName:"PositionedOverlay",statics:{POSITIONS:a.STICKY_POSITION},propTypes:{targetNode:n.PropTypes.instanceOf(HTMLElement).isRequired,isTargetPositionFixed:n.PropTypes.bool,isContentFocusable:n.PropTypes.bool,position:n.PropTypes.oneOf(r.values(a.STICKY_POSITION)).isRequired,positionOffset:n.PropTypes.shape({horizontal:n.PropTypes.number,vertical:n.PropTypes.number}),className:n.PropTypes.string},getDefaultProps:function(){return{isTargetPositionFixed:!1,isContentFocusable:!0}},getInitialState:function(){return{readyToFocusInOverlay:!1}},_handlePositionUpdated:function(t){return!this.currentPositioning&&this.props.isContentFocusable&&this.setState({readyToFocusInOverlay:!0}),this.currentPositioning=t},render:function(){var t;return t=r.omit(this.props,["children","position"]),f(p,r.defaults({},{overlayTarget:this.props.targetNode,isFullScreen:!1,isContentFocusable:this.state.readyToFocusInOverlay,className:this.props.className},t),f(a,r.defaults({},{getPositioning:a.makeStickyPositioner({targetNode:this.props.targetNode,isTargetFixed:this.props.isTargetPositionFixed,position:this.props.position,offset:this.props.positionOffset}),isTargetFixed:this.props.isTargetPositionFixed,onReposition:this._handlePositionUpdated},t),this.props.children))}}),{Overlay:p,PositionedOverlay:h}})}.call(this),function(){define("modules/clean/react/paging_list",["external/classnames","external/react","external/react-dom","jquery","external/underscore"],function(t,e,n,o,r){var s;return s=e.DOM,e.createClass({displayName:"PagingList",propTypes:{customClass:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.instanceOf(t)]),itemSize:e.PropTypes.number.isRequired,pageSize:e.PropTypes.number.isRequired,threshold:e.PropTypes.number,useTranslate3d:e.PropTypes.bool},getDefaultProps:function(){return{threshold:100,useTranslate3d:!1}},getInitialState:function(){return{from:0,size:this._constrainSize(this.props.pageSize,this.props.children,0)}},componentWillReceiveProps:function(t){var e,n;return e=this._constrainFrom(this.state.from,t.children.length),n=this._constrainSize(this.state.size,t.children,e),this.setState({from:e,size:n})},componentDidMount:function(){return window.addEventListener("resize",this.updateFrame),n.findDOMNode(this).addEventListener("scroll",this.updateFrame),this.updateFrame()},shouldComponentUpdate:function(t,e){return!r.isEqual(t,this.props)||!r.isEqual(e,this.state)},componentDidUpdate:function(){return this.updateFrame()},componentWillUnmount:function(){return window.removeEventListener("resize",this.updateFrame),n.findDOMNode(this).removeEventListener("scroll",this.updateFrame)},_getScroll:function(){var t,e;return e=n.findDOMNode(this.refs.scroller).getBoundingClientRect().top,t=n.findDOMNode(this.refs.container).getBoundingClientRect().top,t-e},_setScroll:function(t){return n.findDOMNode(this.refs.container).scrollTop+=t-this._getScroll()},_getViewportSize:function(){return n.findDOMNode(this.refs.container).clientHeight},_getStartAndEnd:function(){var t,e;return e=Math.max(0,this._getScroll()-this.props.threshold),t=e+this._getViewportSize()+2*this.props.threshold,{start:e,end:t}},updateFrame:function(){var t,e,n,o,r,s;return o=this._getStartAndEnd(),s=o.start,t=o.end,n=this.props.itemSize,e=this._constrainFrom(Math.floor(s/n),this.props.children.length),r=this._constrainSize(Math.ceil((t-s)/n)+1,this.props.children,e),this.setState({from:e,size:r})},_getSpaceBefore:function(t){return t*this.props.itemSize},_constrainFrom:function(t,e){return t?Math.max(Math.min(t,e-1),0):0},_constrainSize:function(t,e,n){var o,r;return o=e.length,r=this.props.pageSize,Math.min(Math.max(t,r),o-n)},scrollTo:function(t){return this._setScroll(this._getSpaceBefore(t))},scrollAround:function(t){var e,n,o;return e=this._getScroll(),n=this._getSpaceBefore(t),e>n?this._setScroll(n):(o=n-this._getViewportSize()+this.props.itemSize,e<o?this._setScroll(o):void 0)},_renderItems:function(){var t;return t=this.state.from+this.state.size-1,this.props.children.slice(this.state.from,+t+1||9e9)},render:function(){var e,n,o,r;return n={position:"relative",height:this._getSpaceBefore(this.props.children.length)},r=this._getSpaceBefore(this.state.from),o=this.props.useTranslate3d?"translate3d(0px, "+r+"px, 0)":"translate(0px, "+r+"px)",e={MsTransform:o,WebkitTransform:o,transform:o},s.div({className:t("paging-list",this.props.customClass),ref:"container"},s.div({style:n,ref:"scroller"},s.ul({style:e},this._renderItems())))}})})}.call(this),function(){define("modules/clean/react/portal",["external/classnames","external/react","external/react-dom","modules/clean/react/css"],function(t,e,n,o){var r;return r=e.createClass({displayName:"Portal",propTypes:{parentElement:e.PropTypes.instanceOf(HTMLElement).isRequired,onRendered:e.PropTypes.func,children:e.PropTypes.element.isRequired},getDefaultProps:function(){return{onRendered:function(){}}},createRenderTargetNode:function(t){var e,n,o,r,s;if(t){for(s=document.createElement("div"),s.className="react-portal-container",r=t.children,n=0,o=r.length;n<o;n++)if(e=r[n],!e.classList.contains("react-portal-container"))return t.insertBefore(s,e),s;return t.appendChild(s),s}return null},componentDidMount:function(){if(this.props.parentElement)return this._renderPortalContainerAndContents()},componentWillUnmount:function(){return this._closeCurrentPortal()},componentDidUpdate:function(t){return t.parentElement===this.props.parentElement?this._renderPortalContentsInContainer(this._portalContainerNode):this._renderPortalContainerAndContents()},_closeCurrentPortal:function(){if(this._portalContainerNode)return n.unmountComponentAtNode(this._portalContainerNode),this._portalContainerNode.parentNode.removeChild(this._portalContainerNode),this._portalContainerNode=null},_renderPortalContainerAndContents:function(){return this._closeCurrentPortal(),this._portalContainerNode=this.createRenderTargetNode(this.props.parentElement),this._renderPortalContentsInContainer(this._portalContainerNode)},_renderPortalContentsInContainer:function(t){if(t)return n.render(e.Children.only(this.props.children),t,this.props.onRendered)},render:function(){return null}}),o(r,["/static/css/react/portal_overlay-vfl6_Epv8.css"])})}.call(this),function(){define("modules/clean/react/sprite",["external/classnames","external/react","modules/clean/static_urls"],function(t,e,n){var o,r,s;return s=n.static_url,r=e.DOM,o=e.PropTypes,e.createClass({displayName:"Sprite",propTypes:{group:o.string.isRequired,name:o.string.isRequired,alt:o.string.isRequired,className:o.string,onClick:o.func,onDragStart:o.func,onMouseDown:o.func,title:o.string,"data-src":o.string},getDefaultProps:function(){return{onClick:function(){},onDragStart:function(){},onMouseDown:function(){}}},render:function(){var e;return e=this.props.alt||"",r.img({className:t(["sprite","sprite_"+this.props.group,"s_"+this.props.group+"_"+this.props.name,this.props.className]),src:s("/static/images/icons/icon_spacer-vflN3BYt2.gif"),"data-src":this.props["data-src"],onClick:this.props.onClick,onDragStart:this.props.onDragStart,onMouseDown:this.props.onMouseDown,alt:e,title:this.props.title})}})})}.call(this),function(){define("modules/clean/react/title_bubble",["jquery","external/classnames","external/react","external/react-dom","external/underscore","modules/clean/react/css","modules/clean/react/overlay"],function(t,e,n,o,r,s,i){var a,l,c,u,p,h,d,f,_,m;return u=i.PositionedOverlay,_=n.DOM,f=n.createElement,a=t(document.body),l="titleBubble-positioningTarget",p={TOP:u.POSITIONS.TOP,BOTTOM:u.POSITIONS.BOTTOM,LEFT:u.POSITIONS.LEFT,RIGHT:u.POSITIONS.RIGHT,BOTTOM_ALIGN_RIGHT:u.POSITIONS.BOTTOM_ALIGN_RIGHT,BOTTOM_ALIGN_LEFT:u.POSITIONS.BOTTOM_ALIGN_LEFT,TOP_ALIGN_RIGHT:u.POSITIONS.TOP_ALIGN_RIGHT,TOP_ALIGN_LEFT:u.POSITIONS.TOP_ALIGN_LEFT},m={},m[""+p.TOP]="top",m[""+p.BOTTOM]="bottom",m[""+p.LEFT]="left",m[""+p.RIGHT]="right",m[""+p.BOTTOM_ALIGN_RIGHT]="bottom-align-right",m[""+p.BOTTOM_ALIGN_LEFT]="bottom-align-left",m[""+p.TOP_ALIGN_RIGHT]="top-align-right",m[""+p.TOP_ALIGN_LEFT]="top-align-left",c=m,d=n.createClass({displayName:"TitleBubble",propTypes:{content:n.PropTypes.oneOfType([n.PropTypes.element,n.PropTypes.string]).isRequired,children:n.PropTypes.element.isRequired,position:n.PropTypes.oneOf(r.values(p)).isRequired,distanceFromTarget:n.PropTypes.number,isTargetPositionFixed:n.PropTypes.bool,onMouseEnter:n.PropTypes.func,shouldReadContents:n.PropTypes.bool,className:n.PropTypes.string,backgroundColor:n.PropTypes.string},getDefaultProps:function(){return{distanceFromTarget:0,isTargetPositionFixed:!1,onMouseEnter:r.noop,shouldReadContents:!1,className:null}},getInitialState:function(){return{isFocused:!1,isHovering:!1,targetNode:null}},componentWillMount:function(){return this.titleBubbleId=r.uniqueId("react-title-bubble-")},componentDidMount:function(){var t;return t=this._getTargetNode(),this._adjustArrowPosition(t),this._throttledSetState=r.throttle(this.setState,100)},componentDidUpdate:function(){return this.state.targetNode||this._getTargetNode(),this._adjustArrowPosition(this.state.targetNode)},_getTargetNode:function(){var e,n,r;if(r=o.findDOMNode(this.refs.titleBubbleContainer),e=r.childNodes[0],"NOSCRIPT"!==e.tagName)return n=r.getElementsByClassName(l)[0]||e,this.setState({targetNode:n}),this.props.shouldReadContents&&t(e).attr("aria-describedby",this.titleBubbleId),n},_getPositionOffset:function(){var t;return t={horizontal:0,vertical:0},c[this.props.position].match(/^top/)?t.vertical=-this.props.distanceFromTarget:c[this.props.position].match(/^bottom/)?t.vertical=this.props.distanceFromTarget:c[this.props.position].match(/^left/)?t.horizontal=-this.props.distanceFromTarget:c[this.props.position].match(/^right/)&&(t.horizontal=this.props.distanceFromTarget),t},_adjustArrowPosition:function(e){var n;if(null!=e)switch(this.props.position){case h.POSITIONS.TOP_ALIGN_LEFT:case h.POSITIONS.BOTTOM_ALIGN_LEFT:return n=t(o.findDOMNode(this.refs.arrow)),n.css("left",e.offsetWidth/2);case h.POSITIONS.TOP_ALIGN_RIGHT:case h.POSITIONS.BOTTOM_ALIGN_RIGHT:return n=t(o.findDOMNode(this.refs.arrow)),n.css("right",e.offsetWidth/2)}},render:function(){var o,r,s,i,l;return i=c[this.props.position],s=e("react-title-bubble","react-title-bubble--"+i,this.props.className),l=this.props.backgroundColor&&{"background-color":this.props.backgroundColor},this.props.backgroundColor&&(o={},r="border-"+i.split("-")[0]+"-color",o[r]=this.props.backgroundColor),_.div({ref:"titleBubbleContainer",className:"react-title-bubble__container",onClick:(function(t){return function(){return t._throttledSetState({isFocused:!1,isHovering:!1})}})(this),onFocus:(function(t){return function(){return t._throttledSetState({isFocused:!0})}})(this),onBlur:(function(t){return function(){return t._throttledSetState({isFocused:!1})}})(this),onMouseEnter:(function(t){return function(){return t.props.onMouseEnter(),t._throttledSetState({isHovering:!0})}})(this),onMouseLeave:(function(e){return function(){return t(e.state.targetNode).is(":focus")||t(e.state.targetNode).children(":focus").length?e._throttledSetState({isHovering:!1}):e._throttledSetState({isFocused:!1,isHovering:!1})}})(this)},n.Children.only(this.props.children),this.state.isHovering||this.state.isFocused&&a.hasClass("tabbing")?f(u,{className:"react-title-bubble--disable-pointer",targetNode:this.state.targetNode,isTargetPositionFixed:this.props.isTargetPositionFixed,position:this.props.position,positionOffset:this._getPositionOffset(),isContentFocusable:!1},_.div({id:this.titleBubbleId,className:s,style:l},this.props.content,_.div({ref:"arrow",className:"arrow",style:o}))):void 0)}}),h=s(d,["/static/css/components/title_bubble-vfl3yK_gU.css"]),h.POSITIONS=p,h.POSITIONING_TARGET_CLASS=l,h})}.call(this),function(){var t=[].slice,e={}.hasOwnProperty;define("modules/clean/react/util",["external/react","external/underscore"],function(n,o){var r,s,i,a;return r=function(t){var e;return"string"==typeof t?t:"string"==typeof t.props?t.props:t.props.text?t.props.text:(e=[],n.Children.forEach(t.props.children,function(t){return e.push(r(t))}),e.join(""))},i=function(t,e,o){var r,s;return e(t)?o(t):(r=!1,s=[],n.Children.forEach(t.props.children,(function(t){return function(t){var n;if(n=i(t,e,o),s.push(n),n!==t)return r=!0}})(this)),r?n.cloneElement(t,{},s):t)},s=function(){var n,o,r,s,i,a,l,c;for(n=1<=arguments.length?t.call(arguments,0):[],a={},o=[],r=0,i=n.length;r<i;r++){l=n[r];for(s in l)e.call(l,s)&&(c=l[s],"className"===s?o.push(c):a[s]=c)}return null!=o.length&&(a.className=o.join(" ")),a},a=function(t,e){return new Promise(function(n,o){return t.setState(e,n)})},{getText:r,mergeProps:s,replaceSubtree:i,setStatePromise:a}})}.call(this),define("modules/clean/react_format",["require","exports","external/react","external/underscore","modules/core/exception","modules/clean/js_environment"],function(t,e,n,o,r,s){"use strict";function i(t,e){null==e&&(e={});for(var r=new RegExp(["%%","(%\\(([a-zA-Z0-9_]+)\\)s)","(<\\s*([a-zA-Z0-9_]+)\\s*\\/>)","(<\\s*([a-zA-Z0-9_]+)\\s*>)","(<\\s*\\/\\s*([a-zA-Z0-9_]+)\\s*>)"].join("|"),"g"),s=0,i=[{name:"root",components:[]}];;){var l=r.exec(t);if(!l)break;var c=i[i.length-1].components;if(c.push(t.slice(s,l.index)),"%%"===l[0])c.push("%");else if(l[1]){var u=e[l[2]];null==u?a('No substitution was given for the placeholder "'+l[2]+'".'):c.push(String(u))}else if(l[3]){var u=e[l[4]];null==u?a('No substitution was given for the self-closing tag "'+l[4]+'".'):n.isValidElement(u)?c.push(u):a('The substitution given for the self-closing tag "'+l[4]+'" was not a valid React element.')}else if(l[5]){var p=l[6];i.push({name:p,components:[]})}else if(l[7]){var p=l[8];if(i.length<=1)a('Trying to close a "'+p+'" tag, but there was no preceding open tag.');else{var h=i.pop(),d=h.name,f=h.components,_=f.filter(function(t){return""!==t});if(d!==p)a('Trying to close a "'+p+'" tag, but the matching open tag was a "'+d+'".');else if(null==e[p])a('No substitution was given for the tag "'+p+'".');else if(o.isFunction(e[p])){var m=e[p](_);n.isValidElement(m)?i[i.length-1].components.push(m):a('A thunk was passed as the substitution for the "'+p+'" tag, but the thunk did not resolve to a valid React element.')}else n.isValidElement(e[p])?i[i.length-1].components.push(n.cloneElement(e[p],{},_)):a('The substitution given for the tag "'+p+'" was not a valid React element.')}}s=l.index+l[0].length}i.length>1&&a("Not all XML tags were closed properly! For standalone tags without a corresponding close tag, please use XML self-closing tag syntax. This string contains "+(i.length-1)+" unclosed tags.");var g=i[0].components;g.push(t.slice(s,t.length));var T=t.length,b=g.length,y=0;for(var v in g)n.isValidElement(v)&&(v.key=T+"_"+b+"_"+y++);return g.filter(function(t){return""!==t})}function a(t){(s.isTest||l<20)&&(l++,r.reportStack("reactFormat: "+t,{tags:["reactFormat"]}))}Object.defineProperty(e,"__esModule",{value:!0}),e.reactFormat=i;var l=0}),function(){define("modules/core/controller_helpers",["jquery","modules/core/controller_registry","modules/core/exception"],function(t,e,n){var assert,o,r,s,i;return assert=n.assert,s=function(t,e){return t.data("jscontroller",e)},i=function(t){return t.data("jscontroller")},o=function(n){var r,s,a,l;for(l=n.children(),s=0,a=l.length;s<a;s++)r=l[s],o(t(r));if(!i(n)&&n.data("js-component-id"))return e.bind_controller(n)},r=function(t){var e;return assert(t,"Trying to clone nonexistent element"),e=t.clone(),o(e),e},{deprecated_set_controller:s,get_controller:i,clone_element:r,bind_controllers:o}})}.call(this),function(){define("modules/core/controller_registry",["jquery","modules/core/exception"],function(t,e){var n,reportStack;return reportStack=e.reportStack,n=function(e,n,o){var r,s,i,a;for(r=[e].concat(o),i=0,a=e.length;i<a;i++)s=e[i],t(s).data("jscontroller",(function(t,e,n){n.prototype=t.prototype;var o=new n,r=t.apply(o,e);return Object(r)===r?r:o})(n,r,function(){}));return e},(function(){function e(){}return e.controllers={},e.register_controller=function(t,e,n){return this.controllers[t]={constructor:e,args:n},this.find_and_bind_controller(t)},e.bind_controller=function(t){var e,o;return e=t.data("js-component-id"),this.controllers[e]?(o=this.controllers[e],n(t,o.constructor,o.args)):void reportStack("No controller for "+e)},e.find_and_bind_controller=function(e){var o,r;return this.controllers[e]?(r=this.controllers[e],o=t("[data-js-component-id='"+e+"']"),n(o,r.constructor,r.args)):void reportStack("No controller for "+e)},e})()})}.call(this);
//# sourceMappingURL=pkg-coreui.min.js-vfltbpPRl.map